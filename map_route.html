<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delivery Route - Food Delivery</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="map_styles.css">
</head>

<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <button class="back-btn" onclick="goBack()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 19l-7-7 7-7" />
                </svg>
            </button>
            <div class="search-bar">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8" />
                    <path d="m21 21-4.35-4.35" />
                </svg>
                <input type="text" placeholder="Search for a place..." id="searchInput">
            </div>
            <button class="location-btn">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
                    <circle cx="12" cy="10" r="3" />
                </svg>
            </button>
        </header>

        <!-- Map Container -->
        <div class="map-container" id="mapContainer">
            <!-- Distance Badge -->
            <div class="distance-badge">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
                    <circle cx="12" cy="10" r="3" />
                </svg>
                <span>1.40 km, 7 mins</span>
            </div>

            <!-- Map Image Placeholder -->
            <div class="map-placeholder">
                <div class="route-line"></div>
                <div class="marker marker-start" title="Your Location">
                    <div class="marker-pulse"></div>
                    <div class="marker-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                            <circle cx="12" cy="12" r="8" />
                        </svg>
                    </div>
                </div>
                <div class="marker marker-end" title="Destination">
                    <div class="marker-icon-large">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="#C41E3A">
                            <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z" />
                            <circle cx="12" cy="9" r="2.5" fill="white" />
                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <!-- Arrival Notification (Hidden by default) -->
        <div class="arrival-notification" id="arrivalNotification" style="display: none;">
            <div class="notification-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="#C41E3A">
                    <path d="M12 2L4 7v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V7l-8-5z" />
                    <path d="M9 12l2 2 4-4" stroke="white" stroke-width="2" fill="none" />
                </svg>
            </div>
            <div class="notification-content">
                <h3>Arrived Location!</h3>
                <p>You're close to location area. Order delivery confirmation has enabled.</p>
            </div>
        </div>

        <!-- Bottom Action Sheet -->
        <div class="action-sheet">
            <div class="sheet-handle"></div>

            <div class="customer-info-card">
                <img src="https://ui-avatars.com/api/?name=Mohamed+Salah&background=667eea&color=fff&size=60"
                    alt="Customer" class="customer-avatar" id="customerAvatar">
                <div class="customer-details">
                    <h3 id="customerName">Mohamed Salah</h3>
                    <p id="customerAddress">Cairo, Nasr City, Street 233</p>
                    <p id="customerPhone">0123334456</p>
                </div>
                <button class="call-btn" onclick="callCustomer()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="white">
                        <path
                            d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z" />
                    </svg>
                </button>
            </div>

            <div class="action-buttons">
                <button class="btn-navigate" onclick="startNavigation()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="white">
                        <polygon points="3 11 22 2 13 21 11 13 3 11" />
                    </svg>
                    <span>Start Navigation</span>
                </button>
                <button class="btn-arrived" onclick="markArrived()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="white">
                        <polyline points="20 6 9 17 4 12" />
                    </svg>
                    <span>Mark Arrived</span>
                </button>
            </div>

            <button class="btn-confirm" id="confirmBtn" style="display: none;" onclick="confirmDelivery()">
                Confirm Delivery
            </button>
        </div>
    </div>

    <script src="map_script.js"></script>
</body>

</html>